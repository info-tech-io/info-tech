# Прогресс этапа 5: Доработка CLI инструмента info_tech_cli (опционально)

## Статус: ⏭️ ПРОПУЩЕН для ускорения MVP

**Решение принято:** 2025-09-01  
**Последнее обновление:** 2025-09-01 17:50  

## Решение о пропуске этапа

**Причина:** Этап пропускается для ускорения запуска MVP платформы InfoTech.io.
**Альтернативное решение:** Использование ручного процесса подключения модулей (10-15 минут на модуль).
**Будущие планы:** CLI инструмент будет разработан после успешного развертывания и стабилизации платформы.  

## Выполненные шаги

- [x] Базовая структура CLI на Python Click (в workspace/info-tech-cli)
- [x] Команды create, delete, validate (частично реализованы)
- [x] Поддержка .env с GITHUB_TOKEN
- [x] setup.py конфигурация

**Требуется выполнить:**
- [ ] Шаг 5.1: Анализ требований к команде `add`
- [ ] Шаг 5.2: Создание команды `add`
- [ ] Шаг 5.3: Обновление документации и тестирование

## Текущая задача
Этап является опциональным для MVP и может быть выполнен после успешного развертывания основной платформы

## Проблемы и решения
-

## Изменения от первоначального плана
- **Приоритет:** Этап стал опциональным для MVP
- **Функциональность:** Фокус только на команде `add` для подключения модулей
- **Альтернатива:** Ручное подключение модулей без CLI (10-15 минут на модуль)
- **Технологии:** Python Click + GitHub API + dotenv (как планировалось)

## Вопросы требующие решения

### A. Интерфейс команды add
```
Варианты синтаксиса:
1. info_tech_cli add <repo_url> --name <module_name>
2. info_tech_cli add <repo_name> (автоматическое определение)
3. info_tech_cli add --interactive (пошаговый режим)

Рекомендация: Поддерживать все варианты
```

### Б. Автоматическое извлечение метаданных
```
Можно извлекать из репозитория:
- Название модуля (из README.md?)
- Описание (из README.md?)
- Язык (из структуры content/?)

Или требовать явного ввода всех параметров?
```

### В. Обработка ошибок  
```
MVP стратегия: Простое завершение с ошибкой
Будущее: Умная обработка и восстановление
```

### Г. Детали workflow файла
```
Структура уведомлений в репозиторий infotecha
Формат payload для repository_dispatch
```

## Планируемые результаты
- ✅ Команда `add` для автоматического подключения модулей
- ✅ GitHub API интеграция (форки, workflows, обновление реестра)
- ✅ Поддержка различных форматов входных репозиториев
- ✅ Автоматическое создание workflow в репозитории модуля
- ✅ Обновление modules.json в репозитории infotecha
- ✅ Документация и базовые тесты

## Альтернативный план (ручное подключение)
Если CLI не реализуется на этапе MVP:

1. **Создание форка** через веб-интерфейс GitHub
2. **Добавление workflow** в репозиторий модуля (шаблон готов)
3. **Обновление modules.json** в репозитории infotecha
4. **Коммит изменений** → автоматический билд

**Время выполнения:** 10-15 минут на модуль  
**vs CLI:** 1-2 минуты на модуль

## Следующие шаги
1. Принять решение о необходимости CLI для MVP
2. Если да - реализовать команду `add` с GitHub API
3. Если нет - создать документацию по ручному подключению модулей
4. Протестировать процесс подключения модуля (CLI или ручной)

## Ручная альтернатива (используется в MVP)

До реализации CLI используется ручной процесс подключения модулей:

### Процедура подключения модуля:
1. **Создание форка** через веб-интерфейс GitHub  
2. **Добавление workflow** в репозиторий модуля (шаблон готов)
3. **Обновление modules.json** в репозитории infotecha
4. **Коммит изменений** → автоматический билд

**Время выполнения:** 10-15 минут на модуль vs 1-2 минуты с CLI

## Заметки для будущей разработки
- **Текущее состояние:** Базовая структура CLI готова в workspace/info-tech-cli
- **Приоритет:** Этап отложен до post-MVP фазы
- **Ценность:** CLI значительно ускорит подключение новых модулей (15 минут → 2 минуты)
- **Требования:** Admin права в GitHub организации info-tech-io
- **Следующие шаги:** Вернуться к этапу после стабилизации платформы